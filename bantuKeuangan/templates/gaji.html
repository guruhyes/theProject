{% extends 'base.html' %}

{% block Content %}

<h1>{{judul}}</h1>
    <div id="pBulanGaji" class="easyui-panel" style="width:700px;height:00px;padding:10px;">
        <input class="easyui-datebox" label="bulanGaji" labelPosition="left" style="width:250px;">
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-new" plain="true" onclick="gajian()">new</a>
    </div>
    <div class="easyui-tabs" id="tabGaji" style="width:1300px;height:auto">
        <div title="01." style="padding:10px">
            <div id="p01" class="easyui-panel" data-options="footer:'#ft01'" style="width:100%;height:600px;padding:10px;">
                {% include 'gaji_form/form01.html' %}
                
            </div>
            <div id="ft01">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-more" plain="true" onclick="nextTabGaji(1)">next</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
            </div>
            
        </div>
        <div title="02.">
            <div id="p02" class="easyui-panel" data-options="footer:'#ft02'" style="width:700px;height:400px;padding:10px;">
                {% include 'gaji_form/form02.html' %}
                
            </div>
            <div id="ft02">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-back" plain="true" onclick="nextTabGaji(0)">back</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-next" plain="true" onclick="nextTabGaji(2)">next</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
            </div>
        </div>
        <div title="03.">
            <div id="p03" class="easyui-panel" data-options="footer:'#ft03'" style="width:100%;height:900px;padding:10px;">
                {% include 'gaji_form/form03.html' %}
                
            </div>
            <div id="ft03">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-back" plain="true" onclick="nextTabGaji(1)">back</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-next" plain="true" onclick="nextTabGaji(3)">next</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
            </div>
        </div>
        <div title="04.">
        <div id="p04" class="easyui-panel" data-options="footer:'#ft04'" style="width:100%;height:auto;padding:10px;">
                {% include 'gaji_form/form04.html' %}
                
            </div>
            <div id="ft04">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-back" plain="true" onclick="nextTabGaji(2)">back</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-next" plain="true" onclick="nextTabGaji(4)">next</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
            </div>
        </div>
        <div title="05.">
            <div id="p05" class="easyui-panel" data-options="footer:'#ft05'" style="width:800px;height:auto;padding:10px;">
                {% include 'gaji_form/form05.html' %}
                
            </div>
            <div id="ft05">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-back" plain="true" onclick="nextTabGaji(3)">back</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-next" plain="true" onclick="nextTabGaji(5)">next</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
            </div>
        </div>
        <div title="06.">
            <div id="p06" class="easyui-panel" data-options="footer:'#ft06'" style="width:700px;height:300px;padding:10px;">
                {% include 'gaji_form/form06.html' %}
                
            </div>
            <div id="ft06">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-back" plain="true" onclick="nextTabGaji(4)">back</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-next" plain="true" onclick="nextTabGaji(6)">next</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
            </div>
        </div>
        <div title="07.">
            <div id="p07" class="easyui-panel" data-options="footer:'#ft07'" style="width:700px;height:300px;padding:10px;">
                {% include 'gaji_form/form07.html' %}
                
            </div>
            <div id="ft07">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-back" plain="true" onclick="nextTabGaji(5)">back</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-next" plain="true" onclick="nextTabGaji(7)">next</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
            </div>
        </div>
        <div title="08.">
            <div id="p08" class="easyui-panel" data-options="footer:'#ft08'" style="width:700px;height:300px;padding:10px;">
                {% include 'gaji_form/form08.html' %}
                
            </div>
            <div id="ft08">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-back" plain="true" onclick="nextTabGaji(6)">back</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-next" plain="true" onclick="nextTabGaji(8)">next</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
            </div>
        </div>
        <div title="09.">
            <div id="p09" class="easyui-panel" data-options="footer:'#ft09'" style="width:700px;height:300px;padding:10px;">
                {% include 'gaji_form/form09.html' %}
                
            </div>
            <div id="ft09">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-back" plain="true" onclick="nextTabGaji(7)">back</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-next" plain="true" onclick="nextTabGaji(9)">next</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
            </div>
        </div>
        <div title="10.">
            <div id="p10" class="easyui-panel" data-options="footer:'#ft10'" style="width:700px;height:300px;padding:10px;">
                Dokument 10
                
            </div>
            <div id="ft10">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-back" plain="true" onclick="nextTabGaji(8)">back</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-next" plain="true" onclick="nextTabGaji(10)">next</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
            </div>
        </div>
        <div title="11.">
            <div id="p11" class="easyui-panel" data-options="footer:'#ft11'" style="width:700px;height:300px;padding:10px;">
                Dokument 11
                
            </div>
            <div id="ft11">
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-back" plain="true" onclick="nextTabGaji(9)">back</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-preview" plain="true" onclick="previewFormGaji()">preview</a>
                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-next" plain="true" onclick="nextTabGaji(11)">Preview All</a>
            </div>
        </div>
        <div title="Preview">
        
        </div>
        <div title="Final">
        
        </div>
    </div>
    <div id="dlPreviewFormGaji" class="easyui-dialog" buttons="#btPreviewFormGaji" title="Preview" style="width:500px;height:500px;"
            data-options="resizable:true,modal:true,closed:true">
        <!--<iframe src="{% url 'weasyPrint' %}" width="100%" height="98%">-->
        </iframe>
    </div>
    <script>
        
        $('#tabGaji').tabs({
            onSelect:function(title,index){
                if(index==11){
                    $('#tabGaji').tabs('select',index+1);
                    alert(index);
                }else if(index==1){
                    setForm02();
                    
                }else if (index==5){
                    setForm06();
                    console.log('te')
                    
                }else if(index==6){
                    setForm07();
                    
                }else if(index==7){
                    setForm08();
                }else if(index==8){
                    setForm09();
                }
            }
        })
        function setForm02(){
            $('#id02JumlahKotor').numberbox('setValue',$('#idJumlahKotor').numberbox('getValue'));
            $('#idTerbilang').textbox('setValue',terbilang(parseInt($('#idJumlahKotor').numberbox('getValue'))));
            $('#id02BpjsKes').numberbox('setValue',$('#idBpjsKes1').numberbox('getValue'));
            $('#id02Taspen').numberbox('setValue',$('#idTaspen').numberbox('getValue'));
            $('#id02PPH').numberbox('setValue',$('#idPPH').numberbox('getValue'));
            $('#id02Taperum').numberbox('setValue',$('#idTaperum').numberbox('getValue'));
            $('#id02Askes').numberbox('setValue',$('#idAskes').numberbox('getValue'));
            $('#id02JKK').numberbox('setValue',$('#idJKK').numberbox('getValue'));
            $('#id02JKM').numberbox('setValue',$('#idJKM').numberbox('getValue'));
        }
        function setForm06(){
            $('#id06JumlahKotor').numberbox('setValue',$('#idJumlahKotor').numberbox('getValue'));
            $('#id06Terbilang').textbox('setValue',terbilang(parseInt($('#idJumlahKotor').numberbox('getValue'))));
        }
        function setForm07(){
            $('#id07JumlahKotor').numberbox('setValue',$('#idJumlahKotor').numberbox('getValue'));
            $('#id07Terbilang').textbox('setValue',terbilang(parseInt($('#idJumlahKotor').numberbox('getValue'))));
        }
        function setForm08(){
            $('#id08JumlahKotor').numberbox('setValue',$('#idJumlahKotor').numberbox('getValue'));
            $('#id08Terbilang').textbox('setValue',terbilang(parseInt($('#idJumlahKotor').numberbox('getValue'))));
        }
        function setForm09(){
            $('#id09JumlahKotor').numberbox('setValue',$('#idJumlahKotor').numberbox('getValue'));
            $('#id09Terbilang').textbox('setValue',terbilang(parseInt($('#idJumlahKotor').numberbox('getValue'))));
            $('#id09NoSpm').textbox('setValue',$('#id08NoSpm').textbox('getValue'));
        }
        function nextTabGaji(index){
            $('#tabGaji').tabs('select',index);
            var tab = $('#tabGaji').tabs('getSelected');
            var i = $('#tabGaji').tabs('getTabIndex',tab);
            if(i==11){
                $('#tabGaji').tabs('select',index+1);
                alert(i);
            }else if(index==1){
                setForm02();
            }else if (index==5){
                setForm06();
                
            }else if(index==6){
                setForm07();
                
            }else if(index==7){
                setForm08();
            }else if(index=8){
                setForm09();
            }
        }
        function previewFormGaji(){
            var iframe = document.createElement('iframe');
            iframe.setAttribute('src', '{% url 'weasyPrint' %}');
            iframe.setAttribute('width','100%');
            iframe.setAttribute('height','98%');
            document.getElementById('dlPreviewFormGaji').appendChild(iframe);
            $('#dlPreviewFormGaji').dialog('open').dialog('setTitle','Preview');
        }
    </script>
{% endblock Content %}


